{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "MCP Tool Definitions for Todo Chatbot",
  "version": "1.0.0",
  "description": "JSON Schema definitions for MCP tools used in the AI Todo Chatbot",
  "tools": [
    {
      "name": "add_task",
      "description": "Add a new task to the user's todo list",
      "inputSchema": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Task title (required, 1-200 characters)",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "description": "Task description (optional)",
            "maxLength": 1000
          },
          "due_date": {
            "type": "string",
            "format": "date",
            "description": "Due date in ISO 8601 format (optional)"
          }
        },
        "required": ["title"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "task": { "$ref": "#/definitions/Task" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    },
    {
      "name": "list_tasks",
      "description": "List user's tasks with optional status filter",
      "inputSchema": {
        "type": "object",
        "properties": {
          "status_filter": {
            "type": "string",
            "enum": ["pending", "completed", "all"],
            "default": "all",
            "description": "Filter tasks by status"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "tasks": {
            "type": "array",
            "items": { "$ref": "#/definitions/Task" }
          },
          "total_count": { "type": "integer" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    },
    {
      "name": "update_task",
      "description": "Update an existing task's title or description",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "ID of the task to update (required)",
            "minimum": 1
          },
          "title": {
            "type": "string",
            "description": "New task title",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "description": "New task description",
            "maxLength": 1000
          }
        },
        "required": ["task_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "task": { "$ref": "#/definitions/Task" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    },
    {
      "name": "complete_task",
      "description": "Mark a task as completed",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "ID of the task to complete (required)",
            "minimum": 1
          }
        },
        "required": ["task_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "task": { "$ref": "#/definitions/Task" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    },
    {
      "name": "delete_task",
      "description": "Delete a task from the user's todo list",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "ID of the task to delete (required)",
            "minimum": 1
          }
        },
        "required": ["task_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "deleted": { "type": "boolean" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    },
    {
      "name": "set_due_date",
      "description": "Set or update the due date for a task",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "ID of the task (required)",
            "minimum": 1
          },
          "due_date": {
            "type": "string",
            "format": "date",
            "description": "Due date in ISO 8601 format (required)"
          }
        },
        "required": ["task_id", "due_date"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "task": { "$ref": "#/definitions/Task" },
          "error": { "$ref": "#/definitions/Error" }
        }
      }
    }
  ],
  "definitions": {
    "Task": {
      "type": "object",
      "properties": {
        "id": { "type": "integer" },
        "title": { "type": "string" },
        "description": { "type": ["string", "null"] },
        "is_completed": { "type": "boolean" },
        "created_at": { "type": "string", "format": "date-time" },
        "updated_at": { "type": "string", "format": "date-time" },
        "due_date": { "type": ["string", "null"], "format": "date" },
        "completed_at": { "type": ["string", "null"], "format": "date-time" }
      },
      "required": ["id", "title", "is_completed", "created_at", "updated_at"]
    },
    "Error": {
      "type": "object",
      "properties": {
        "code": { "type": "string" },
        "message": { "type": "string" }
      },
      "required": ["code", "message"]
    }
  }
}
